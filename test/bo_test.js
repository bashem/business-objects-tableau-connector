var chai = require("chai");
var expect = chai.expect;
var should = chai.should();
var sinon = require("sinon");
var _ = require("underscore");
chai.use(require("sinon-chai"));

var Bo = require("../model/bo");

var efashion2 = {"folders":{"folders":[{"name":"Time period","attributes":[{"Name":"Year","Id":"OBJ_188"},{"Name":"Quarter","Id":"OBJ_186"},{"Name":"Month","Id":"OBJ_185"},{"Name":"Week","Id":"OBJ_260"},{"Name":"Holiday (y/n)","Id":"OBJ_290"}],"measures":[],"filters":[{"Id":"FIL_2","Name":"Last year"},{"Id":"FIL_1","Name":"This year"},{"Id":"FIL_3","Name":"Christmas period"},{"Id":"FIL_11","Name":"Holiday period"}]},{"name":"Store","attributes":[{"Name":"State","Id":"OBJ_218"},{"Name":"City","Id":"OBJ_166"},{"Name":"Store name","Id":"OBJ_376"}],"measures":[],"filters":[{"Id":"FIL_6","Name":"Sales floor size?"},{"Id":"FIL_12","Name":"Owned stores"},{"Id":"FIL_13","Name":"Stores with long opening hours"}]},{"name":"Store details","namespace":"Store","parentName":"Store","path":"Store","attributes":[{"Name":"Long opening hours","Id":"OBJ_62"},{"Name":"Name of manager","Id":"OBJ_60"},{"Name":"Opening date","Id":"OBJ_61"},{"Name":"Owned (y/n)","Id":"OBJ_63"},{"Name":"Sales floor size group","Id":"OBJ_214"}],"measures":[{"Name":"Extended sales floor size","Id":"OBJ_314"}],"filters":[]},{"name":"Product","attributes":[{"Name":"Lines","Id":"OBJ_165"},{"Name":"Category","Id":"OBJ_508"},{"Name":"SKU number","Id":"OBJ_216"},{"Name":"SKU desc","Id":"OBJ_152"},{"Name":"Color","Id":"OBJ_153"},{"Name":"Unit Price MSRP","Id":"OBJ_154"}],"measures":[{"Name":"Extended price","Id":"OBJ_194"},{"Name":"Sold at (unit price)","Id":"OBJ_323"}],"filters":[{"Id":"FIL_9","Name":"Prompt for a line item?"},{"Id":"FIL_8","Name":"Which category?"},{"Id":"FIL_10","Name":"Which product?"}]},{"name":"Promotions","attributes":[{"Name":"Promotion (y/n)","Id":"OBJ_266"},{"Name":"Duration","Id":"OBJ_261"}],"measures":[{"Name":"Promotion Cost USD","Id":"OBJ_262"}],"filters":[]},{"name":"Measures","attributes":[],"measures":[{"Name":"Sales revenue","Id":"OBJ_147"},{"Name":"Quantity sold","Id":"OBJ_148"},{"Name":"Margin","Id":"OBJ_146"},{"Name":"Discount","Id":"OBJ_191"}],"filters":[{"Id":"FIL_15","Name":"Sales present"},{"Id":"FIL_16","Name":"Sales not present"}]}],"UniverseId":0}};
var result = [{"children":[{"children":[],"data":"Year","Id":"OBJ_188","attr":{"Id":"OBJ_188","selected":false,"type":1,"path":"folder\\Time period|dimension"}},{"children":[],"data":"Quarter","Id":"OBJ_186","attr":{"Id":"OBJ_186","selected":false,"type":1,"path":"folder\\Time period|dimension"}},{"children":[],"data":"Month","Id":"OBJ_185","attr":{"Id":"OBJ_185","selected":false,"type":1,"path":"folder\\Time period|dimension"}},{"children":[],"data":"Week","Id":"OBJ_260","attr":{"Id":"OBJ_260","selected":false,"type":1,"path":"folder\\Time period|dimension"}},{"children":[],"data":"Holiday (y/n)","Id":"OBJ_290","attr":{"Id":"OBJ_290","selected":false,"type":1,"path":"folder\\Time period|dimension"}}],"data":"Time period","Id":"Time period","attr":{"Id":"Time period","selected":false,"type":0,"path":""}},{"children":[{"children":[],"data":"State","Id":"OBJ_218","attr":{"Id":"OBJ_218","selected":false,"type":1,"path":"folder\\Store|dimension"}},{"children":[],"data":"City","Id":"OBJ_166","attr":{"Id":"OBJ_166","selected":false,"type":1,"path":"folder\\Store|dimension"}},{"children":[],"data":"Store name","Id":"OBJ_376","attr":{"Id":"OBJ_376","selected":false,"type":1,"path":"folder\\Store|dimension"}},{"children":[{"children":[],"data":"Long opening hours","Id":"OBJ_62","attr":{"Id":"OBJ_62","selected":false,"type":1,"path":"folder\\Store details|dimension"}},{"children":[],"data":"Name of manager","Id":"OBJ_60","attr":{"Id":"OBJ_60","selected":false,"type":1,"path":"folder\\Store details|dimension"}},{"children":[],"data":"Opening date","Id":"OBJ_61","attr":{"Id":"OBJ_61","selected":false,"type":1,"path":"folder\\Store details|dimension"}},{"children":[],"data":"Owned (y/n)","Id":"OBJ_63","attr":{"Id":"OBJ_63","selected":false,"type":1,"path":"folder\\Store details|dimension"}},{"children":[],"data":"Sales floor size group","Id":"OBJ_214","attr":{"Id":"OBJ_214","selected":false,"type":1,"path":"folder\\Store details|dimension"}},{"children":[],"data":"Extended sales floor size","Id":"OBJ_314","attr":{"Id":"OBJ_314","selected":false,"type":2,"path":"folder\\Store details|measure"}}],"data":"Store details","Id":"Store details","attr":{"Id":"Store details","selected":false,"type":0,"path":""}}],"data":"Store","Id":"Store","attr":{"Id":"Store","selected":false,"type":0,"path":""}},{"children":[{"children":[],"data":"Lines","Id":"OBJ_165","attr":{"Id":"OBJ_165","selected":false,"type":1,"path":"folder\\Product|dimension"}},{"children":[],"data":"Category","Id":"OBJ_508","attr":{"Id":"OBJ_508","selected":false,"type":1,"path":"folder\\Product|dimension"}},{"children":[],"data":"SKU number","Id":"OBJ_216","attr":{"Id":"OBJ_216","selected":false,"type":1,"path":"folder\\Product|dimension"}},{"children":[],"data":"SKU desc","Id":"OBJ_152","attr":{"Id":"OBJ_152","selected":false,"type":1,"path":"folder\\Product|dimension"}},{"children":[],"data":"Color","Id":"OBJ_153","attr":{"Id":"OBJ_153","selected":false,"type":1,"path":"folder\\Product|dimension"}},{"children":[],"data":"Unit Price MSRP","Id":"OBJ_154","attr":{"Id":"OBJ_154","selected":false,"type":1,"path":"folder\\Product|dimension"}},{"children":[],"data":"Extended price","Id":"OBJ_194","attr":{"Id":"OBJ_194","selected":false,"type":2,"path":"folder\\Product|measure"}},{"children":[],"data":"Sold at (unit price)","Id":"OBJ_323","attr":{"Id":"OBJ_323","selected":false,"type":2,"path":"folder\\Product|measure"}}],"data":"Product","Id":"Product","attr":{"Id":"Product","selected":false,"type":0,"path":""}},{"children":[{"children":[],"data":"Promotion (y/n)","Id":"OBJ_266","attr":{"Id":"OBJ_266","selected":false,"type":1,"path":"folder\\Promotions|dimension"}},{"children":[],"data":"Duration","Id":"OBJ_261","attr":{"Id":"OBJ_261","selected":false,"type":1,"path":"folder\\Promotions|dimension"}},{"children":[],"data":"Promotion Cost USD","Id":"OBJ_262","attr":{"Id":"OBJ_262","selected":false,"type":2,"path":"folder\\Promotions|measure"}}],"data":"Promotions","Id":"Promotions","attr":{"Id":"Promotions","selected":false,"type":0,"path":""}},{"children":[{"children":[],"data":"Sales revenue","Id":"OBJ_147","attr":{"Id":"OBJ_147","selected":false,"type":2,"path":"folder\\Measures|measure"}},{"children":[],"data":"Quantity sold","Id":"OBJ_148","attr":{"Id":"OBJ_148","selected":false,"type":2,"path":"folder\\Measures|measure"}},{"children":[],"data":"Margin","Id":"OBJ_146","attr":{"Id":"OBJ_146","selected":false,"type":2,"path":"folder\\Measures|measure"}},{"children":[],"data":"Discount","Id":"OBJ_191","attr":{"Id":"OBJ_191","selected":false,"type":2,"path":"folder\\Measures|measure"}}],"data":"Measures","Id":"Measures","attr":{"Id":"Measures","selected":false,"type":0,"path":""}}];
describe("Bo", function () {

    it("should get bo data", function() {
        var bodata = Bo.getBOData(efashion2);
        bodata.should.be.eql(result);
    });

});